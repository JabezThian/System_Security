{% extends "base.html" %}
{% block title %}NYP - Admin | All Users{% endblock %}
{%block content%}
{% from "includes/_formhelper.html" import render_field %}
<div>
    <a class="btn btn-info" href="{{url_for('showechart1')}}">User dashboard</a>
</div><br>
<table style="border-collapse: collapse; width: 100%;margin-top:20px;">
    <tr style="nth-child(even){background-color: #f2f2f2}">
        <th style="background-color: #4CAF50; color: white;text-align: left; padding: 8px;">NRIC</th>
        <th style="background-color: #4CAF50; color: white;text-align: left; padding: 8px;">Name</th>
        <th style="background-color: #4CAF50; color: white;text-align: left; padding: 8px;">Gender</th>
        <th style="background-color: #4CAF50; color: white;text-align: left; padding: 8px;">DoB</th>
        <th style="background-color: #4CAF50; color: white;text-align: left; padding: 8px;">Email</th>
        <th style="background-color: #4CAF50; color: white;text-align: left; padding: 8px;">Role</th>
        <th style="background-color: #4CAF50; color: white;text-align: left; padding: 8px;">Specialisation</th>
        <th style="background-color: #4CAF50; color: white;text-align: left; padding: 8px;">URL</th>
        <th style="background-color: #4CAF50; color: white;text-align: left; padding: 8px;">Update</th>
        <th style="background-color: #4CAF50; color: white;text-align: left; padding: 8px;">Unlock Lockout</th>
        <th style="background-color: #4CAF50; color: white;text-align: left; padding: 8px;">Lockout</th>
        <th style="background-color: #4CAF50; color: white;text-align: left; padding: 8px;">Delete</th>
    </tr>
    {% for user in all_users %}
    <tr style="nth-child(even){background-color: #f2f2f2}">
        <td style="text-align: left;padding: 8px;">{{user["nric"]}}</td>
        <td style="text-align: left;padding: 8px;">{{user["fname"] + " " + user["lname"]}}</td>
        <td style="text-align: left;padding: 8px;">{{user["gender"]}}</td>
        <td style="text-align: left;padding: 8px;">{{user["dob"]}}</td>
        <td style="text-align: left;padding: 8px;">{{user["email"]}}</td>
        <td style="text-align: left;padding: 8px;">{{user["role"]}}</td>

        {% if user["role"] == "Patient" or user["role"] == "Admin" %}
        <td style="text-align: left;padding: 8px;">Not Available </td>
        <td style="text-align: left;padding: 8px;">Not Available </td>
        {%endif%}

        {% if user["role"] == "Doctor" %}
        <td style="text-align: left;padding: 8px;">{{user["specialization"]}}</td>
        <td style="text-align: left;padding: 8px;">{{user["url"]}}</td>
        {%endif%}

        <td style="text-align: left;padding: 8px;"><a href="{{url_for('admin_update', uid=user['nric'])}}" class="btn btn-success">Update</a></td>
        <td style="text-align: left;padding: 8px;"><a href="{{url_for('unlockLockout', uid=user['nric'])}}" class="btn btn-success">Unlock Lockout</a></td>
        <td style="text-align: left;padding: 8px;"><a href="{{url_for('lockLockout', uid=user['nric'])}}" class="btn btn-danger">Lockout</a></td>
        <td style="text-align: left;padding: 8px;"><a href="{{url_for('admin_delete', uid=user['nric'])}}" class="btn btn-danger">Delete</a></td>
    </tr>
    {%endfor%}
</table>

<input type="button" onclick="location.href='{{url_for('add_doctor')}}'" value="Add doctor">
{%endblock%}
